{"version":3,"sources":["../src/main.js"],"names":["loadCoverage","require","remap","writeReport","MemoryStore","module","exports","sources","reports","reportOptions","sourceStore","collector","map","length","undefined","all","reportType"],"mappings":";;;;;;;;;;;;AAAA;AACA;AACA,IAAMA,eAAeC,QAAQ,gBAAR,CAArB;AACA,IAAMC,QAAQD,QAAQ,SAAR,CAAd;AACA,IAAME,cAAcF,QAAQ,eAAR,CAApB;AACA,IAAMG,cAAcH,QAAQ,2BAAR,CAApB;;AAEA;;;;;;;;;;AAUAI,OAAOC,OAAP,GAAiB,UAAUC,OAAV,EAAmBC,OAAnB,EAA4BC,aAA5B,EAA2C;AAC3D,KAAIC,cAAc,IAAIN,WAAJ,EAAlB;AACA,KAAMO,YAAYT,MAAMF,aAAaO,OAAb,CAAN,EAA6B;AAC9CA,WAASG;AADqC,EAA7B,CAAlB;;AAIA,KAAI,CAAC,oBAAYA,YAAYE,GAAxB,EAA6BC,MAAlC,EAA0C;AACzCH,gBAAcI,SAAd;AACA;;AAGD,QAAO,kBAAQC,GAAR,CACN,oBAAYP,OAAZ,EACEI,GADF,CACM;AAAA,SACJT,YAAYQ,SAAZ,EAAuBK,UAAvB,EAAmCP,iBAAiB,EAApD,EAAwDD,QAAQQ,UAAR,CAAxD,EAA6EN,WAA7E,CADI;AAAA,EADN,CADM,CAAP;AAMA,CAjBD;;AAmBAL,OAAOC,OAAP,CAAeN,YAAf,GAA8BA,YAA9B;AACAK,OAAOC,OAAP,CAAeJ,KAAf,GAAuBA,KAAvB;AACAG,OAAOC,OAAP,CAAeH,WAAf,GAA6BA,WAA7B","file":"main.js","sourcesContent":["/* jshint node:true */\r\n/* global Promise */\r\nconst loadCoverage = require('./loadCoverage');\r\nconst remap = require('./remap');\r\nconst writeReport = require('./writeReport');\r\nconst MemoryStore = require('istanbul/lib/store/memory');\r\n\r\n/**\r\n * The basic API for utilising remap-istanbul\r\n * @param  {Array|string} sources The sources that could be consumed and remapped.\r\n *                                For muliple sources to be combined together, provide\r\n *                                an array of strings.\r\n * @param  {Object} reports An object where each key is the report type required and the value\r\n *                          is the destination for the report.\r\n * @param  {Object} reportOptions? An object containing the report options.\r\n * @return {Promise}         A promise that will resolve when all the reports are written.\r\n */\r\nmodule.exports = function (sources, reports, reportOptions) {\r\n\tlet sourceStore = new MemoryStore();\r\n\tconst collector = remap(loadCoverage(sources), {\r\n\t\tsources: sourceStore,\r\n\t});\r\n\r\n\tif (!Object.keys(sourceStore.map).length) {\r\n\t\tsourceStore = undefined;\r\n\t}\r\n\r\n\r\n\treturn Promise.all(\r\n\t\tObject.keys(reports)\r\n\t\t\t.map(reportType =>\r\n\t\t\t\twriteReport(collector, reportType, reportOptions || {}, reports[reportType], sourceStore)\r\n\t\t\t)\r\n\t);\r\n};\r\n\r\nmodule.exports.loadCoverage = loadCoverage;\r\nmodule.exports.remap = remap;\r\nmodule.exports.writeReport = writeReport;\r\n"]}