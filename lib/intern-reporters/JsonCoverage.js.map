{"version":3,"sources":["../../src/intern-reporters/JsonCoverage.js"],"names":["require","Collector","Reporter","JsonCoverageReporter","config","_collector","_reporter","file","filename","watermarks","prototype","coverage","sessionId","coverageData","add","runEnd","writeReport","module","exports"],"mappings":";;eAAsBA,QAAQ,UAAR,C;IAAdC,S,YAAAA,S;;AACR,IAAMC,WAAWF,QAAQ,0BAAR,CAAjB;;AAEA,SAASG,oBAAT,GAA2C;AAAA,KAAbC,MAAa,uEAAJ,EAAI;;AAC1C,MAAKC,UAAL,GAAkB,IAAIJ,SAAJ,EAAlB;AACA,MAAKK,SAAL,GAAiB,IAAIJ,QAAJ,CAAa;AAC7BK,QAAMH,OAAOI,QADgB;AAE7BC,cAAYL,OAAOK;AAFU,EAAb,CAAjB;AAIA;;AAEDN,qBAAqBO,SAArB,CAA+BC,QAA/B,GAA0C,SAASA,QAAT,CAAkBC,SAAlB,EAA6BC,YAA7B,EAA2C;AACpF,MAAKR,UAAL,CAAgBS,GAAhB,CAAoBD,YAApB;AACA,CAFD;;AAIAV,qBAAqBO,SAArB,CAA+BK,MAA/B,GAAwC,SAASA,MAAT,GAAkB;AACzD,MAAKT,SAAL,CAAeU,WAAf,CAA2B,KAAKX,UAAhC,EAA4C,IAA5C;AACA,CAFD;;AAIAY,OAAOC,OAAP,GAAiBf,oBAAjB","file":"JsonCoverage.js","sourcesContent":["const { Collector } = require('istanbul');\r\nconst Reporter = require('istanbul/lib/report/json');\r\n\r\nfunction JsonCoverageReporter(config = {}) {\r\n\tthis._collector = new Collector();\r\n\tthis._reporter = new Reporter({\r\n\t\tfile: config.filename,\r\n\t\twatermarks: config.watermarks,\r\n\t});\r\n}\r\n\r\nJsonCoverageReporter.prototype.coverage = function coverage(sessionId, coverageData) {\r\n\tthis._collector.add(coverageData);\r\n};\r\n\r\nJsonCoverageReporter.prototype.runEnd = function runEnd() {\r\n\tthis._reporter.writeReport(this._collector, true);\r\n};\r\n\r\nmodule.exports = JsonCoverageReporter;\r\n"]}